---
title: "games_analysis"
output: html_document
date: "2022-12-26"
---

# Steam Games Data Exploration and Analysis

```{r}
library(tidyverse)
library(lubridate)
```

## Exploring the data

I started with a tibble having 152194 apps, and after running through them individually, 138746 remain (non null, etc...). In other words, I lost about 8.8% of data - collected from 12/23/2022 to 12/26/2022. Some of it could be recovered I'm sure, as the steam APIs don't always perfectly reflect the current situation, for example by scraping through the steam store. I'll leave that for now.

```{r}
steam_apps_df <- readRDS('../data/complete_apps_list_FINAL.rds')
```

```{r}
steam_apps_df %>% 
  group_by(type) %>% 
  summarize(n())
```

First interesting observation: 18717 apps total (8810 are games) that have different names in the complete list vs when taken individually. There are some that have just different capitalization or a : replaced with a -, but then there are ones that have titles changed (added trademarks, titles, etc..). Not going to explore this further.

```{r}
steam_apps_df %>% 
  filter(name_tot != name_app) %>% 
  select(name_tot, name_app)
```

Alright, focusing on games only, let's see how many nans we're working with!

```{r}
steam_games_df <- steam_apps_df%>% 
  filter(type=='game')
```

> DLC figures not every game have that, especially if not successful. I like to see that there's only about 2k games with no publisher or no developer (2048 of which are missing both). What sucks though is so many missing metacritic and/or recommended values! In particular, using `steam_games_df %>%  filter(!is.na(metacritic) & !is.na(recommended))` only 3291 games have both. Lastly, 516 games have no release date.

```{r}
steam_games_df %>% 
  summarize(across(everything(), ~sum(is.na(.)))) %>% 
  select(publishers, developers, dlc, metacritic, categories, genres, recommended, achievements)
```

```{r}
steam_games_df %>% 
  filter(!is.na(publishers)) %>%
  separate(publishers, c('pub1','pub2', 'pub3', 'pub4', 'pub5'), sep = ';') %>% 
  select(name_app, pub1, pub2, pub3, pub4, pub5) %>% 
  summarize(across(everything(), ~sum(!is.na(.))))
```

honly crap some games have the entire list individual devs... one gets up to 40! I decided that 20 developers listed is plenty enough - only 3 games have that many

```{r}
steam_games_df %>% 
  filter(!is.na(developers)) %>%
  separate(developers, c('dev1','dev2', 'dev3', 'dev4', 'dev5', 'dev6', 'dev7', 'dev8', 'dev9', 'dev10', 'dev11', 'dev12', 'dev13', 'dev14', 'dev15', 'dev16', 'dev17', 'dev18', 'dev19', 'dev20'), sep = ';') %>% 
  select(name_app, dev1, dev2, dev3, dev4, dev5, dev6, dev7, dev8, dev9, dev10, dev11, dev12, dev13, dev14, dev15, dev16, dev17, dev18, dev19, dev20) %>% 
  summarize(across(everything(), ~sum(!is.na(.))))
#!is.na(dev5)
```
All in all, the overwhelming majority of games has only 2 publishers (only 3.3% have 2 in fact), as well as only 2 developers (6.7%). Now trying to see how many different developers appear.

Now to see how many distinct dev1 or pub1 there are. in both cases, over 40000 different publishers/developers!

```{r}
steam_games_df %>% 
  filter(!is.na(publishers)) %>%
  separate(publishers, c('pub1', 'pub2'), sep=';') %>%
  select(pub1) %>% 
  n_distinct()
#  count(pub1, sort=TRUE)
  

steam_games_df %>% 
  filter(!is.na(developers)) %>%
  separate(developers, c('dev1', 'dev2'), sep=';') %>% 
#  count(dev1, sort=TRUE)
  select(dev1) %>% 
  n_distinct()

```





```{r}
#steam_games_df %>% 
#  filter(!is.na(developers)) %>%
#  slice(24644) %>%
#  view()
```

Similarly to above, looking ad categories and genres now. There are at most 22 categories! that's because "remote play on phone", "remote play on TV", local co-op, etc... are all separate.

```{r}
steam_games_df %>% 
  filter(!is.na(categories)) %>%
  separate(categories, c('cat1','cat2', 'cat3', 'cat4', 'cat5', 'cat6', 'cat7', 'cat8', 'cat9', 'cat10', 'cat11', 'cat12', 'cat13', 'cat14', 'cat15', 'cat16', 'cat17', 'cat18', 'cat19', 'cat20', 'cat21', 'cat22'), sep = ';') %>% 
  select(name_app, cat1, cat2, cat3, cat4, cat5, cat6, cat7, cat8, cat9, cat10, cat12, cat13, cat14, cat15, cat16, cat17, cat18, cat19, cat20, cat21, cat22) %>% 
  summarize(across(everything(), ~sum(!is.na(.))))
```

Ok, I feel like this is just fishing for filters. There's a game, "CAT SUDOKUðŸ±" that allegedly has 19 genres. Second most is at 14, with 'è‹±è¯­æ€', which google translates to 'English kill' lol. At 12 genres there's 'å¢²äººä¹‹å¢ƒï¼š1V4æ‘¸é‡‘å¯¹å†³' translated to 'The realm of the barren: 1V4 duel for gold' and 'Simple Tools'. Having 8-11 genres still has a suspiciously low number of games (in the hundreds). And really, only 10% of games have 5 genres or more.

```{r}
steam_games_df %>% 
  filter(!is.na(genres)) %>%
  separate(genres, c('gen1','gen2', 'gen3', 'gen4', 'gen5', 'gen6', 'gen7', 'gen8', 'gen9', 'gen10', 'gen11', 'gen12', 'gen13', 'gen14', 'gen15', 'gen16', 'gen17', 'gen18', 'gen19'), sep = ';') %>% 
  select(name_app, gen1, gen2, gen3, gen4, gen5, gen6, gen7, gen8, gen9, gen10, gen11, gen12, gen13, gen14, gen15, gen16, gen17, gen18, gen19) %>% 
  summarize(across(everything(), ~sum(!is.na(.))))


```

```{r}
steam_games_df %>% 
  filter(name_app == 'HOT GIRLS VR') %>%  view()
```


